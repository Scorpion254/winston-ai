<body>
  <!-- Background video -->
  <video autoplay muted loop id="bg-video">
      <source src="bg.mp4" type="video/mp4">
      Your browser does not support the video tag.
  </video>

  <!-- Chat overlay -->
  <div class="chat-container">
      <h1>ðŸ¤– Winston AI</h1>
      <div id="chat-box"></div>
      <div class="input-area">
          <input type="text" id="user-input" placeholder="Type your message..." autofocus>
          <button onclick="sendMessage()">Send</button>
      </div>
  </div>

  <script>
      async function sendMessage() {
          const input = document.getElementById("user-input");
          const message = input.value.trim();
          if (!message) return;

          const chatBox = document.getElementById("chat-box");
          chatBox.innerHTML += `<div class="user-msg">ðŸ§‘ You: ${message}</div>`;
          input.value = "";

          const response = await fetch("/chat", {
              method: "POST",
              headers: { "Content-Type": "application/json" },
              body: JSON.stringify({ message })
          });

          const data = await response.json();
          chatBox.innerHTML += `<div class="bot-msg">ðŸ¤– Winston AI: ${data.reply}</div>`;
          chatBox.scrollTop = chatBox.scrollHeight;
      }

      document.getElementById("user-input").addEventListener("keypress", (e) => {
          if (e.key === "Enter") sendMessage();
      });
  </script>
</body>
